<form action="/password/reset" method="POST">

    <% if (error.length > 0) { %>
        <div class="alert alert-danger" role="alert"><%= error %></div>
    <% } %>
    
    <input type="hidden" name="token" value="<%= token %>">
    <input type="hidden" name="userId" value="<%= userId %>">

    <h2 class="fw-bold mb-2 text-uppercase">Change Password</h2>
    <h4 class="fw-bold mb-2 text-uppercase"><%= username %></h4>
    <p class="text-white-50 mb-5">Please enter your account email, verification code, and new password to change!</p>
    
    <div class="form-outline form-white mb-4">
        <input type="password" name="password" id="password" class="form-control form-control-lg" required/>
        <label class="form-label" for="password">Password</label>
    </div>

    <div class="form-outline form-white mb-4">
        <input type="password" name="confirm_password" id="confirm_password" class="form-control form-control-lg"  required/>
        <label class="form-label" for="confirm_password">Confirm Password</label>
    </div>

    <button class="btn btn-outline-light btn-lg px-5" type="submit" onclick="return checkMatches()">Change Password</button>
</form>

<script>
    function checkMatches() {
        const passElem = document.getElementById("password")
        const password = passElem.value;
        const confElem = document.getElementById("confirm_password");
        const confirm_password = confElem.value;
        console.log(password !== confirm_password);
        if (password !== confirm_password) {
            alert("Passwords do not match");
            passElem.value = "";
            confElem.value = "";
            return false;
        }
        return true;
    }
</script>